<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Pluck</title>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
  <style>
    /* ===== CSS Variables & Theme System ===== */
    :root {
      /* Light mode (default) */
      --bg-primary: #ffffff;
      --bg-secondary: #f5f5f7;
      --bg-tertiary: #e8e8ed;
      --text-primary: #1d1d1f;
      --text-secondary: #6e6e73;
      --text-tertiary: #86868b;
      --border-color: rgba(0, 0, 0, 0.1);
      --shadow-color: rgba(0, 0, 0, 0.08);
      --shadow-hover: rgba(0, 0, 0, 0.15);

      /* Accent colors */
      --accent-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --accent-gradient-hover: linear-gradient(135deg, #5a6fd6 0%, #6a4190 100%);
      --accent-solid: #667eea;
      --success-color: #34c759;
      --warning-color: #ff9500;
      --danger-color: #ff3b30;

      /* Spacing */
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 12px;
      --spacing-lg: 16px;
      --spacing-xl: 20px;

      /* Border radius */
      --radius-sm: 6px;
      --radius-md: 10px;
      --radius-lg: 14px;
      --radius-full: 9999px;

      /* Transitions */
      --transition-fast: 0.15s ease;
      --transition-normal: 0.25s ease;
      --transition-slow: 0.4s ease;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg-primary: #1c1c1e;
        --bg-secondary: #2c2c2e;
        --bg-tertiary: #3a3a3c;
        --text-primary: #f5f5f7;
        --text-secondary: #a1a1a6;
        --text-tertiary: #6e6e73;
        --border-color: rgba(255, 255, 255, 0.1);
        --shadow-color: rgba(0, 0, 0, 0.3);
        --shadow-hover: rgba(0, 0, 0, 0.5);
      }
    }

    /* ===== Base Styles ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      width: 320px;
      padding: var(--spacing-lg);
      line-height: 1.4;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ===== Header ===== */
    .header {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
    }

    .logo {
      width: 40px;
      height: 40px;
      background: var(--accent-gradient);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .logo .material-symbols-outlined {
      font-size: 24px;
      color: white;
      font-variation-settings: 'FILL' 1;
    }

    .header-text h1 {
      font-size: 18px;
      font-weight: 600;
      background: var(--accent-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header-text .title-row {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .header-text .by-text {
      font-size: 10px;
      color: var(--text-tertiary);
      font-weight: 500;
      background: var(--bg-tertiary);
      padding: 2px 6px;
      border-radius: 4px;
      letter-spacing: 0.5px;
    }

    .tagline-logo {
      height: 22px;
      width: auto;
      opacity: 0.7;
    }

    @media (prefers-color-scheme: dark) {
      .tagline-logo {
        filter: brightness(0) invert(1);
        opacity: 0.6;
      }
    }

    .header-text .tagline {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 2px;
    }

    /* ===== Buttons ===== */
    .actions {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
      margin-bottom: var(--spacing-lg);
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
      padding: var(--spacing-md) var(--spacing-lg);
      border: none;
      border-radius: var(--radius-md);
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition-fast);
      outline: none;
    }

    .btn .material-symbols-outlined {
      font-size: 20px;
    }

    .btn:focus-visible {
      box-shadow: 0 0 0 3px var(--accent-solid), 0 0 0 5px var(--bg-primary);
    }

    .btn-primary {
      background: var(--accent-gradient);
      color: white;
      box-shadow: 0 4px 14px rgba(102, 126, 234, 0.4);
    }

    .btn-primary:hover {
      background: var(--accent-gradient-hover);
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
    }

    .btn-primary:active {
      transform: translateY(0);
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
    }

    .btn-stop {
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a5a 100%);
      color: white;
      box-shadow: 0 4px 14px rgba(238, 90, 90, 0.4);
    }

    .btn-stop:hover {
      background: linear-gradient(135deg, #ff5252 0%, #e04848 100%);
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(238, 90, 90, 0.5);
    }

    .btn-stop:active {
      transform: translateY(0);
      box-shadow: 0 2px 8px rgba(238, 90, 90, 0.4);
    }

    .btn-row {
      display: flex;
      gap: var(--spacing-sm);
      align-items: stretch;
    }

    .btn-icon {
      width: 44px;
      min-width: 44px;
      padding: var(--spacing-md);
      background: var(--bg-secondary);
      color: var(--text-secondary);
      border: 1px solid var(--border-color);
      flex-shrink: 0;
    }

    .btn-icon:hover {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px var(--shadow-color);
    }

    .btn-icon:active {
      transform: translateY(0);
    }

    .btn-secondary {
      flex: 1;
      background: var(--bg-secondary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
    }

    .btn-secondary:hover {
      background: var(--bg-tertiary);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px var(--shadow-color);
    }

    .btn-secondary:active {
      transform: translateY(0);
    }

    .btn-export {
      background: linear-gradient(135deg, #34c759 0%, #30b350 100%);
      color: white;
      box-shadow: 0 4px 14px rgba(52, 199, 89, 0.3);
      border: none;
    }

    .btn-export:hover {
      background: linear-gradient(135deg, #2db350 0%, #28a745 100%);
      box-shadow: 0 6px 20px rgba(52, 199, 89, 0.4);
    }

    .btn-xray-active {
      background: linear-gradient(135deg, #ff9500 0%, #ff6b00 100%) !important;
      color: white !important;
      border-color: transparent !important;
      box-shadow: 0 4px 14px rgba(255, 149, 0, 0.4) !important;
    }

    .btn-xray-active:hover {
      background: linear-gradient(135deg, #ff8500 0%, #e65c00 100%) !important;
      box-shadow: 0 6px 20px rgba(255, 149, 0, 0.5) !important;
    }

    .btn-colorpick-active {
      background: linear-gradient(135deg, #ff6b6b 0%, #ffd93d 33%, #6bcb77 66%, #4d96ff 100%) !important;
      color: white !important;
      border-color: transparent !important;
      box-shadow: 0 4px 14px rgba(107, 203, 119, 0.4) !important;
    }

    .btn-colorpick-active:hover {
      background: linear-gradient(135deg, #ff5252 0%, #ffc107 33%, #4caf50 66%, #2196f3 100%) !important;
      box-shadow: 0 6px 20px rgba(107, 203, 119, 0.5) !important;
    }

    /* ===== Status Card ===== */
    .status-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    .status-main {
      display: flex;
      align-items: center;
      gap: var(--spacing-sm);
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--text-tertiary);
      transition: background var(--transition-normal);
    }

    .status-dot.active {
      background: var(--success-color);
      box-shadow: 0 0 8px var(--success-color);
      animation: pulse 2s infinite;
    }

    .status-dot.success {
      background: var(--accent-solid);
      box-shadow: 0 0 8px var(--accent-solid);
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .status-text {
      font-size: 13px;
      color: var(--text-primary);
      font-weight: 500;
    }

    .selection-count {
      display: none;
      background: var(--accent-gradient);
      color: white;
      padding: 6px 14px;
      border-radius: 16px;
      font-size: 12px;
      font-weight: 600;
      margin: var(--spacing-sm) 0;
      text-align: center;
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
    }

    .selection-count.visible {
      display: block;
    }

    .status-hint {
      font-size: 11px;
      color: var(--text-tertiary);
      margin-top: var(--spacing-xs);
      padding-top: var(--spacing-xs);
      border-top: 1px solid var(--border-color);
    }

    /* ===== Shortcuts Display ===== */
    .shortcuts-display {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-md);
      font-size: 11px;
      color: var(--text-tertiary);
      margin-bottom: var(--spacing-md);
      flex-wrap: wrap;
    }

    .shortcut-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .kbd {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 20px;
      height: 20px;
      padding: 0 5px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 4px;
      font-size: 10px;
      font-weight: 600;
      font-family: inherit;
      color: var(--text-secondary);
      box-shadow: 0 1px 2px var(--shadow-color);
    }

    /* ===== Settings Panel ===== */
    .settings-toggle {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: var(--spacing-sm) var(--spacing-md);
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      font-size: 13px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .settings-toggle:hover {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    .settings-toggle .material-symbols-outlined {
      font-size: 18px;
      transition: transform var(--transition-normal);
    }

    .settings-toggle.open .material-symbols-outlined {
      transform: rotate(180deg);
    }

    .settings-panel {
      display: none;
      padding-top: var(--spacing-md);
    }

    .settings-panel.visible {
      display: block;
    }

    .settings-content {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: var(--spacing-sm);
    }

    .shortcut-row {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: var(--spacing-sm);
      padding: 8px;
      background: var(--bg-primary);
      border-radius: var(--radius-sm);
    }

    .shortcut-row:last-of-type {
      margin-bottom: var(--spacing-md);
    }

    .shortcut-label {
      width: 44px;
      font-size: 11px;
      color: var(--text-primary);
      font-weight: 600;
      flex-shrink: 0;
    }

    .shortcut-controls {
      display: flex;
      align-items: center;
      gap: 4px;
      flex: 1;
      min-width: 0;
    }

    .modifier-group {
      display: flex;
      align-items: center;
      gap: 3px;
      flex-shrink: 0;
    }

    .mod-btn {
      width: 28px;
      height: 28px;
      padding: 0;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      color: var(--text-tertiary);
      cursor: pointer;
      transition: all var(--transition-fast);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .mod-btn:hover {
      background: var(--bg-secondary);
      color: var(--text-secondary);
      border-color: var(--text-tertiary);
    }

    .mod-btn.active {
      background: var(--accent-gradient);
      border-color: transparent;
      color: white;
      box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
    }

    .key-separator {
      color: var(--text-tertiary);
      font-size: 12px;
      font-weight: 300;
      flex-shrink: 0;
    }

    .key-input {
      flex: 1;
      min-width: 50px;
      max-width: 70px;
      height: 28px;
      padding: 0 6px;
      background: var(--bg-tertiary);
      border: 2px solid var(--border-color);
      border-radius: 4px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-primary);
      text-align: center;
      outline: none;
      transition: all var(--transition-fast);
    }

    .key-input:focus {
      border-color: var(--accent-solid);
      box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
      background: var(--bg-primary);
    }

    .settings-actions {
      display: flex;
      gap: var(--spacing-sm);
      padding-top: var(--spacing-md);
      border-top: 1px solid var(--border-color);
    }

    .btn-save {
      flex: 1;
      background: var(--accent-gradient);
      color: white;
      padding: var(--spacing-sm) var(--spacing-md);
      border: none;
      border-radius: var(--radius-sm);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .btn-save:hover {
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .btn-reset {
      padding: var(--spacing-sm) var(--spacing-md);
      background: transparent;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      font-size: 12px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .btn-reset:hover {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    /* Key input special state for standalone keys */
    .key-input.standalone {
      background: var(--accent-gradient);
      color: white;
      border-color: transparent;
    }

    /* ===== Footer ===== */
    .footer {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-xs);
      margin-top: var(--spacing-lg);
      padding-top: var(--spacing-md);
      border-top: 1px solid var(--border-color);
      font-size: 11px;
      color: var(--text-tertiary);
    }

    .footer .material-symbols-outlined {
      font-size: 14px;
      color: var(--accent-solid);
    }

    /* ===== Export Modal ===== */
    .export-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: var(--spacing-md);
    }

    .export-modal.visible {
      display: flex;
    }

    .export-modal-content {
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
      padding: var(--spacing-lg);
      width: 100%;
      max-width: 280px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .export-modal h3 {
      margin: 0 0 var(--spacing-sm) 0;
      font-size: 14px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .export-modal p {
      margin: 0 0 var(--spacing-md) 0;
      font-size: 11px;
      color: var(--text-tertiary);
    }

    .filename-input {
      width: 100%;
      padding: 10px 12px;
      background: var(--bg-primary);
      border: 2px solid var(--border-color);
      border-radius: var(--radius-sm);
      font-size: 13px;
      color: var(--text-primary);
      outline: none;
      transition: border-color var(--transition-fast);
      box-sizing: border-box;
    }

    .filename-input:focus {
      border-color: var(--accent-solid);
    }

    .filename-preview {
      margin-top: var(--spacing-sm);
      padding: var(--spacing-sm);
      background: var(--bg-tertiary);
      border-radius: var(--radius-sm);
      font-size: 10px;
      color: var(--text-tertiary);
      font-family: monospace;
    }

    .modal-actions {
      display: flex;
      gap: var(--spacing-sm);
      margin-top: var(--spacing-md);
    }

    .modal-actions button {
      flex: 1;
      padding: 8px 12px;
      border-radius: var(--radius-sm);
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .btn-modal-cancel {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
    }

    .btn-modal-cancel:hover {
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    .btn-modal-export {
      background: var(--accent-gradient);
      border: none;
      color: white;
    }

    .btn-modal-export:hover {
      opacity: 0.9;
    }

    /* ===== Utility Classes ===== */
    .hidden {
      display: none !important;
    }

    /* Success animation */
    @keyframes successPop {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .success-animation {
      animation: successPop 0.3s ease;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="logo">
      <span class="material-symbols-outlined">touch_app</span>
    </div>
    <div class="header-text">
      <div class="title-row">
        <h1>Pluck</h1>
        <span class="by-text">BY</span>
        <svg class="tagline-logo" viewBox="0 0 93.3 23.84"><path d="M 3.745 20.126 C 2.752 20.126 1.944 19.907 1.318 19.468 C 0.694 19.03 0.311 18.413 0.17 17.617 L 1.787 17.367 C 1.887 17.791 2.12 18.125 2.482 18.373 C 2.85 18.615 3.307 18.735 3.851 18.735 C 4.344 18.735 4.73 18.635 5.006 18.433 C 5.289 18.232 5.43 17.954 5.43 17.601 C 5.43 17.395 5.38 17.228 5.279 17.103 C 5.183 16.972 4.979 16.849 4.667 16.733 C 4.354 16.617 3.878 16.473 3.238 16.302 C 2.538 16.12 1.981 15.926 1.568 15.72 C 1.159 15.508 0.867 15.264 0.692 14.986 C 0.52 14.704 0.434 14.365 0.434 13.966 C 0.434 13.472 0.565 13.042 0.827 12.673 C 1.089 12.306 1.457 12.022 1.931 11.82 C 2.41 11.619 2.968 11.518 3.609 11.518 C 4.233 11.518 4.791 11.616 5.279 11.812 C 5.768 12.008 6.164 12.288 6.466 12.652 C 6.768 13.009 6.949 13.43 7.01 13.913 L 5.392 14.208 C 5.348 13.834 5.148 13.496 4.841 13.278 C 4.528 13.052 4.123 12.928 3.623 12.908 C 3.146 12.888 2.757 12.968 2.46 13.15 C 2.162 13.326 2.014 13.571 2.014 13.883 C 2.009 14.052 2.069 14.217 2.18 14.344 C 2.296 14.47 2.518 14.59 2.845 14.707 C 3.173 14.822 3.656 14.961 4.297 15.123 C 4.982 15.299 5.526 15.496 5.929 15.712 C 6.332 15.924 6.619 16.178 6.791 16.475 C 6.967 16.768 7.055 17.123 7.055 17.541 C 7.055 18.347 6.761 18.98 6.17 19.438 C 5.586 19.897 4.777 20.126 3.745 20.126 Z M 11.615 20.134 C 10.778 20.134 10.068 19.947 9.484 19.574 C 8.898 19.201 8.432 18.669 8.137 18.041 C 7.83 17.39 7.674 16.652 7.669 15.825 C 7.674 14.984 7.835 14.241 8.153 13.596 C 8.47 12.946 8.923 12.437 9.514 12.069 C 10.103 11.701 10.811 11.518 11.637 11.518 C 12.529 11.518 13.29 11.739 13.92 12.183 C 14.555 12.626 14.972 13.233 15.174 14.004 L 13.602 14.457 C 13.446 13.999 13.189 13.643 12.832 13.391 C 12.479 13.134 12.051 12.999 11.615 13.006 C 11.095 13.006 10.67 13.13 10.337 13.376 C 10.004 13.619 9.758 13.951 9.597 14.375 C 9.435 14.798 9.353 15.281 9.347 15.825 C 9.353 16.667 9.544 17.347 9.921 17.866 C 10.304 18.385 10.869 18.645 11.615 18.645 C 12.123 18.645 12.534 18.529 12.847 18.297 C 13.164 18.06 13.406 17.722 13.572 17.284 L 15.174 17.661 C 14.907 18.458 14.466 19.07 13.851 19.498 C 13.237 19.922 12.491 20.133 11.615 20.133 Z M 18.311 20.134 C 17.707 20.134 17.2 20.022 16.792 19.801 C 16.384 19.575 16.074 19.277 15.862 18.909 C 15.655 18.534 15.549 18.113 15.553 17.685 C 15.553 17.272 15.626 16.909 15.771 16.597 C 15.918 16.284 16.134 16.019 16.422 15.803 C 16.709 15.581 17.061 15.402 17.48 15.266 C 17.885 15.151 18.297 15.057 18.712 14.986 C 19.192 14.902 19.673 14.827 20.155 14.76 C 20.664 14.689 21.168 14.619 21.667 14.548 L 21.092 14.865 C 21.102 14.226 20.967 13.752 20.684 13.445 C 20.407 13.133 19.929 12.976 19.249 12.976 C 18.82 12.976 18.427 13.076 18.07 13.278 C 17.711 13.475 17.462 13.802 17.321 14.261 L 15.847 13.807 C 16.049 13.107 16.432 12.551 16.996 12.137 C 17.566 11.724 18.321 11.518 19.263 11.518 C 19.994 11.518 20.629 11.643 21.168 11.895 C 21.712 12.142 22.11 12.535 22.362 13.074 C 22.493 13.341 22.574 13.623 22.604 13.922 C 22.635 14.218 22.649 14.538 22.649 14.881 L 22.649 19.907 L 21.251 19.907 L 21.251 18.041 L 21.523 18.282 C 21.186 18.907 20.755 19.373 20.231 19.681 C 19.712 19.983 19.072 20.134 18.311 20.134 Z M 18.591 18.841 C 19.039 18.841 19.425 18.763 19.747 18.607 C 20.07 18.445 20.329 18.242 20.525 17.994 C 20.711 17.77 20.842 17.507 20.91 17.224 C 20.997 16.982 21.045 16.71 21.055 16.407 C 21.07 16.105 21.078 15.863 21.078 15.682 L 21.592 15.871 L 20.231 16.075 C 19.823 16.135 19.453 16.196 19.12 16.256 C 18.823 16.304 18.53 16.372 18.243 16.46 C 18.04 16.53 17.845 16.621 17.661 16.732 C 17.502 16.831 17.366 16.962 17.261 17.117 C 17.161 17.284 17.111 17.475 17.117 17.669 C 17.117 17.881 17.171 18.078 17.275 18.259 C 17.382 18.436 17.543 18.577 17.759 18.682 C 17.976 18.788 18.253 18.841 18.591 18.841 Z M 24.158 19.907 L 24.158 8.796 L 25.737 8.796 L 25.737 19.907 Z M 31.023 20.133 C 30.212 20.133 29.499 19.957 28.884 19.605 C 28.278 19.251 27.784 18.735 27.456 18.115 C 27.118 17.476 26.949 16.735 26.949 15.893 C 26.949 15.002 27.116 14.228 27.449 13.573 C 27.786 12.918 28.255 12.411 28.854 12.054 C 29.454 11.696 30.152 11.518 30.947 11.518 C 31.78 11.518 32.487 11.712 33.072 12.099 C 33.656 12.482 34.092 13.029 34.379 13.74 C 34.671 14.45 34.788 15.294 34.727 16.272 L 33.147 16.272 L 33.147 15.697 C 33.137 14.749 32.955 14.049 32.603 13.596 C 32.255 13.143 31.723 12.915 31.008 12.915 C 30.217 12.915 29.622 13.165 29.225 13.664 C 28.826 14.163 28.628 14.883 28.628 15.825 C 28.628 16.722 28.826 17.418 29.225 17.911 C 29.622 18.4 30.197 18.645 30.947 18.645 C 31.441 18.645 31.867 18.534 32.225 18.312 C 32.587 18.085 32.87 17.763 33.072 17.345 L 34.62 17.836 C 34.304 18.567 33.822 19.133 33.177 19.536 C 32.532 19.934 31.814 20.133 31.023 20.133 Z M 28.114 16.272 L 28.114 15.039 L 33.941 15.039 L 33.941 16.272 Z M 35.818 19.907 L 35.818 11.744 L 37.224 11.744 L 37.224 13.724 L 37.027 13.467 C 37.124 13.211 37.256 12.97 37.419 12.75 C 37.581 12.528 37.768 12.346 37.98 12.205 C 38.188 12.053 38.42 11.936 38.667 11.858 C 38.921 11.773 39.185 11.722 39.453 11.706 C 39.71 11.686 39.969 11.698 40.223 11.744 L 40.223 13.226 C 39.932 13.153 39.63 13.133 39.332 13.165 C 39.014 13.194 38.708 13.3 38.44 13.475 C 38.195 13.63 37.986 13.836 37.828 14.08 C 37.681 14.316 37.576 14.58 37.51 14.873 C 37.444 15.173 37.411 15.48 37.413 15.788 L 37.413 19.907 Z M 46.443 20.133 C 45.813 20.133 45.289 20.023 44.871 19.801 C 44.458 19.579 44.148 19.287 43.941 18.924 C 43.735 18.56 43.628 18.148 43.631 17.73 C 43.631 17.266 43.727 16.879 43.918 16.567 C 44.113 16.255 44.38 15.996 44.697 15.81 C 45.034 15.615 45.398 15.469 45.778 15.379 C 46.226 15.279 46.71 15.193 47.228 15.123 C 47.721 15.051 48.215 14.985 48.71 14.926 C 49.096 14.882 49.481 14.834 49.867 14.782 L 49.549 14.972 C 49.569 14.09 49.403 13.435 49.051 13.007 C 48.702 12.573 48.087 12.356 47.206 12.356 C 46.587 12.356 46.075 12.498 45.672 12.78 C 45.274 13.057 44.994 13.488 44.832 14.072 L 43.941 13.823 C 44.127 13.082 44.503 12.513 45.067 12.115 C 45.631 11.716 46.354 11.518 47.236 11.518 C 47.987 11.518 48.617 11.664 49.126 11.956 C 49.64 12.248 49.997 12.659 50.199 13.188 C 50.284 13.404 50.343 13.659 50.373 13.951 C 50.404 14.238 50.419 14.529 50.419 14.82 L 50.419 19.907 L 49.625 19.907 L 49.625 17.76 L 49.92 17.836 C 49.673 18.571 49.242 19.138 48.627 19.536 C 48.012 19.934 47.284 20.133 46.443 20.133 Z M 46.489 19.332 C 47.042 19.332 47.529 19.234 47.946 19.038 C 48.35 18.848 48.699 18.56 48.96 18.198 C 49.222 17.836 49.388 17.41 49.458 16.921 C 49.509 16.649 49.537 16.355 49.541 16.037 C 49.547 15.72 49.549 15.486 49.549 15.334 L 49.927 15.576 C 49.599 15.617 49.206 15.659 48.748 15.704 C 48.295 15.75 47.831 15.805 47.357 15.871 C 46.924 15.928 46.495 16.012 46.073 16.12 C 45.824 16.191 45.583 16.287 45.355 16.407 C 45.119 16.527 44.914 16.701 44.757 16.914 C 44.601 17.13 44.523 17.405 44.523 17.738 C 44.523 17.984 44.583 18.231 44.704 18.478 C 44.831 18.725 45.037 18.929 45.325 19.091 C 45.611 19.252 46 19.333 46.488 19.333 Z M 51.927 10.097 L 51.927 8.986 L 52.796 8.986 L 52.796 10.097 Z M 51.927 19.907 L 51.927 11.744 L 52.796 11.744 L 52.796 19.907 Z M 57.035 19.907 L 57.035 8.796 L 57.904 8.796 L 57.904 19.907 Z M 61.929 20.133 C 61.3 20.133 60.775 20.023 60.357 19.801 C 59.944 19.579 59.634 19.287 59.427 18.924 C 59.222 18.56 59.115 18.148 59.118 17.73 C 59.118 17.266 59.213 16.879 59.405 16.567 C 59.6 16.255 59.867 15.996 60.183 15.81 C 60.521 15.615 60.885 15.469 61.264 15.379 C 61.713 15.279 62.196 15.193 62.715 15.123 C 63.208 15.051 63.702 14.985 64.197 14.926 C 64.582 14.882 64.968 14.834 65.352 14.782 L 65.036 14.972 C 65.056 14.09 64.889 13.435 64.536 13.007 C 64.19 12.573 63.574 12.356 62.693 12.356 C 62.072 12.356 61.562 12.498 61.159 12.78 C 60.76 13.057 60.481 13.488 60.319 14.072 L 59.427 13.823 C 59.614 13.082 59.99 12.513 60.554 12.115 C 61.118 11.716 61.84 11.518 62.723 11.518 C 63.474 11.518 64.103 11.664 64.612 11.956 C 65.127 12.248 65.484 12.659 65.685 13.188 C 65.771 13.404 65.829 13.659 65.859 13.951 C 65.89 14.238 65.905 14.529 65.905 14.82 L 65.905 19.907 L 65.111 19.907 L 65.111 17.76 L 65.405 17.836 C 65.159 18.571 64.727 19.138 64.113 19.536 C 63.499 19.934 62.77 20.133 61.929 20.133 Z M 61.975 19.332 C 62.529 19.332 63.015 19.234 63.433 19.038 C 63.837 18.848 64.185 18.56 64.446 18.198 C 64.714 17.82 64.886 17.381 64.945 16.921 C 64.995 16.649 65.023 16.355 65.028 16.037 C 65.033 15.72 65.036 15.486 65.036 15.334 L 65.413 15.576 C 65.086 15.617 64.693 15.659 64.234 15.704 C 63.781 15.75 63.318 15.805 62.844 15.871 C 62.37 15.936 61.942 16.02 61.559 16.12 C 61.31 16.191 61.07 16.287 60.841 16.407 C 60.605 16.527 60.401 16.701 60.244 16.914 C 60.088 17.13 60.009 17.405 60.009 17.738 C 60.009 17.984 60.07 18.231 60.191 18.478 C 60.317 18.725 60.524 18.929 60.81 19.091 C 61.098 19.252 61.486 19.333 61.975 19.333 Z M 70.837 20.133 C 70.102 20.133 69.48 19.942 68.971 19.559 C 68.462 19.176 68.074 18.659 67.807 18.01 C 67.54 17.359 67.406 16.627 67.406 15.81 C 67.406 14.989 67.54 14.256 67.807 13.611 C 68.074 12.961 68.47 12.449 68.994 12.077 C 69.518 11.704 70.159 11.518 70.92 11.518 C 71.661 11.518 72.294 11.706 72.817 12.084 C 73.341 12.462 73.74 12.976 74.012 13.626 C 74.289 14.276 74.428 15.004 74.428 15.81 C 74.428 16.627 74.286 17.363 74.004 18.017 C 73.727 18.667 73.321 19.184 72.787 19.566 C 72.258 19.944 71.608 20.133 70.837 20.133 Z M 67.262 19.907 L 67.262 9.024 L 68.131 9.024 L 68.131 13.619 L 68.056 13.619 L 68.056 19.907 Z M 70.784 19.302 C 71.384 19.302 71.883 19.148 72.281 18.841 C 72.684 18.534 72.986 18.118 73.188 17.594 C 73.395 17.065 73.498 16.47 73.498 15.81 C 73.498 15.155 73.398 14.568 73.196 14.049 C 72.999 13.526 72.699 13.113 72.296 12.81 C 71.898 12.502 71.389 12.349 70.77 12.349 C 70.169 12.349 69.668 12.498 69.266 12.795 C 68.863 13.087 68.56 13.495 68.358 14.019 C 68.157 14.543 68.056 15.14 68.056 15.81 C 68.056 16.476 68.155 17.073 68.351 17.601 C 68.552 18.125 68.855 18.541 69.258 18.849 C 69.666 19.151 70.175 19.302 70.784 19.302 Z M 78.457 20.119 C 77.514 20.119 76.736 19.919 76.121 19.521 C 75.529 19.149 75.118 18.546 74.987 17.859 L 75.879 17.708 C 76.005 18.191 76.303 18.577 76.771 18.863 C 77.24 19.151 77.814 19.295 78.494 19.295 C 79.169 19.295 79.706 19.151 80.104 18.863 C 80.502 18.577 80.701 18.184 80.701 17.685 C 80.701 17.413 80.639 17.191 80.512 17.02 C 80.391 16.843 80.149 16.682 79.786 16.536 C 79.424 16.389 78.885 16.218 78.169 16.022 C 77.413 15.82 76.822 15.619 76.393 15.417 C 75.969 15.216 75.671 14.986 75.494 14.73 C 75.322 14.472 75.237 14.157 75.237 13.785 C 75.237 13.336 75.365 12.943 75.622 12.606 C 75.879 12.263 76.237 11.996 76.695 11.805 C 77.159 11.612 77.693 11.518 78.298 11.518 C 78.903 11.518 79.447 11.618 79.931 11.82 C 80.414 12.016 80.804 12.294 81.102 12.652 C 81.399 13.004 81.57 13.415 81.616 13.883 L 80.724 14.049 C 80.649 13.542 80.36 13.091 79.931 12.81 C 79.487 12.502 78.933 12.346 78.268 12.341 C 77.638 12.331 77.124 12.457 76.726 12.719 C 76.328 12.976 76.129 13.316 76.129 13.74 C 76.129 13.981 76.197 14.188 76.332 14.359 C 76.474 14.526 76.721 14.679 77.074 14.82 C 77.426 14.961 77.925 15.113 78.57 15.274 C 79.356 15.475 79.968 15.682 80.407 15.893 C 80.85 16.105 81.163 16.355 81.344 16.641 C 81.525 16.924 81.616 17.274 81.616 17.692 C 81.616 18.447 81.334 19.043 80.77 19.476 C 80.21 19.904 79.439 20.119 78.457 20.119 Z M 88.17 2.97 L 88.17 12.998 L 85.136 12.998 L 85.136 6.056 L 78.202 6.056 L 78.202 2.97 Z" fill="currentColor"/></svg>
      </div>
      <div class="tagline">Grab UI components instantly</div>
    </div>
  </header>

  <!-- Action Buttons -->
  <div class="actions">
    <button class="btn btn-primary" id="start">
      <span class="material-symbols-outlined">point_scan</span>
      Start Selecting
    </button>
    <div class="btn-row">
      <button class="btn btn-icon" id="xray" title="X-Ray Mode">
        <span class="material-symbols-outlined">layers</span>
      </button>
      <button class="btn btn-icon" id="color-pick" title="Color Picker (Ctrl+Shift+P)">
        <span class="material-symbols-outlined">colorize</span>
      </button>
      <button class="btn btn-icon" id="clear" title="Clear Selection">
        <span class="material-symbols-outlined">delete_sweep</span>
      </button>
      <button class="btn btn-secondary btn-export" id="export">
        <span class="material-symbols-outlined">download</span>
        Export
      </button>
    </div>
  </div>

  <!-- Status Card -->
  <div class="status-card">
    <div class="status-main">
      <div class="status-dot" id="status-dot"></div>
      <span class="status-text" id="status">Ready to select elements</span>
    </div>
    <div class="selection-count" id="selection-count"></div>
    <div class="status-hint" id="hint">
      Hover to preview, click to select, Shift+Click for multi-select
    </div>
  </div>

  <!-- Shortcuts Display -->
  <div class="shortcuts-display" id="current-shortcuts">
    <!-- Populated by JS -->
  </div>

  <!-- Settings Toggle -->
  <button class="settings-toggle" id="toggle-settings">
    <span>Customize Shortcuts</span>
    <span class="material-symbols-outlined">expand_more</span>
  </button>

  <!-- Settings Panel -->
  <div class="settings-panel" id="settings-panel">
    <div class="settings-content">
      <!-- Start Select -->
      <div class="shortcut-row">
        <span class="shortcut-label">Start</span>
        <div class="shortcut-controls">
          <div class="modifier-group">
            <button class="mod-btn" id="start-ctrl" data-mod="ctrl" title="Command/Ctrl">Ctrl</button>
            <button class="mod-btn" id="start-shift" data-mod="shift" title="Shift">Shift</button>
            <button class="mod-btn" id="start-alt" data-mod="alt" title="Option/Alt">Alt</button>
          </div>
          <span class="key-separator">+</span>
          <input type="text" class="key-input" id="start-key" placeholder="Key" readonly>
        </div>
      </div>

      <!-- Clear -->
      <div class="shortcut-row">
        <span class="shortcut-label">Clear</span>
        <div class="shortcut-controls">
          <div class="modifier-group">
            <button class="mod-btn" id="clear-ctrl" data-mod="ctrl" title="Command/Ctrl">Ctrl</button>
            <button class="mod-btn" id="clear-shift" data-mod="shift" title="Shift">Shift</button>
            <button class="mod-btn" id="clear-alt" data-mod="alt" title="Option/Alt">Alt</button>
          </div>
          <span class="key-separator">+</span>
          <input type="text" class="key-input" id="clear-key" placeholder="Key" readonly>
        </div>
      </div>

      <!-- Export -->
      <div class="shortcut-row">
        <span class="shortcut-label">Export</span>
        <div class="shortcut-controls">
          <div class="modifier-group">
            <button class="mod-btn" id="export-ctrl" data-mod="ctrl" title="Command/Ctrl">Ctrl</button>
            <button class="mod-btn" id="export-shift" data-mod="shift" title="Shift">Shift</button>
            <button class="mod-btn" id="export-alt" data-mod="alt" title="Option/Alt">Alt</button>
          </div>
          <span class="key-separator">+</span>
          <input type="text" class="key-input" id="export-key" placeholder="Key" readonly>
        </div>
      </div>

      <!-- X-Ray -->
      <div class="shortcut-row">
        <span class="shortcut-label">X-Ray</span>
        <div class="shortcut-controls">
          <div class="modifier-group">
            <button class="mod-btn" id="xray-ctrl" data-mod="ctrl" title="Command/Ctrl">Ctrl</button>
            <button class="mod-btn" id="xray-shift" data-mod="shift" title="Shift">Shift</button>
            <button class="mod-btn" id="xray-alt" data-mod="alt" title="Option/Alt">Alt</button>
          </div>
          <span class="key-separator">+</span>
          <input type="text" class="key-input" id="xray-key" placeholder="Key" readonly>
        </div>
      </div>

      <div class="shortcut-row">
        <span class="shortcut-label">Color Pick</span>
        <div class="shortcut-controls">
          <div class="modifier-group">
            <button class="mod-btn" id="colorpick-ctrl" data-mod="ctrl" title="Command/Ctrl">Ctrl</button>
            <button class="mod-btn" id="colorpick-shift" data-mod="shift" title="Shift">Shift</button>
            <button class="mod-btn" id="colorpick-alt" data-mod="alt" title="Option/Alt">Alt</button>
          </div>
          <span class="key-separator">+</span>
          <input type="text" class="key-input" id="colorpick-key" placeholder="Key" readonly>
        </div>
      </div>

      <!-- Actions -->
      <div class="settings-actions">
        <button class="btn-save" id="save-shortcuts">Save Shortcuts</button>
        <button class="btn-reset" id="reset-shortcuts">Reset</button>
      </div>
    </div>
  </div>

  <!-- Export Filename Modal -->
  <div class="export-modal" id="export-modal">
    <div class="export-modal-content">
      <h3>Export Component</h3>
      <p>Enter a name for your exported files</p>
      <input type="text" class="filename-input" id="filename-input" placeholder="component" value="component">
      <div class="filename-preview" id="filename-preview">
        component.html, component.toon
      </div>
      <div class="modal-actions">
        <button class="btn-modal-cancel" id="modal-cancel">Cancel</button>
        <button class="btn-modal-export" id="modal-export">Export</button>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
